webpackJsonp([1],{"0ZCf":function(e,t,s){"use strict";var a=s("mtWM"),r=s.n(a),n={name:"AllUsers",components:{User:s("DHQt").a},data:function(){return{users:{}}},mounted:function(){this.getUser()},methods:{getUser:function(){var e=this;r.a.get("/users").then(function(t){e.users=t.data}).catch(function(e){return e})}}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"all-user"},this._l(this.users,function(e){return t("b-list-group",{key:e.id,staticStyle:{width:"50%"}},[t("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"HomeUser",params:{id:e.id}}}},[t("one-user",{attrs:{user:e}})],1)],1)}),1)},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(e){s("9B2D")},"data-v-6298afc3",null);t.a=i.exports},"11Jk":function(e,t){},"4jnR":function(e,t){},"8h3n":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mtWM"),r=s.n(a),n=(s("iuzX"),{data:function(){return{messages:[],hasScrolledBottom:"",message:"",user:{},roomId:this.$route.params.id,users:{},roomUser:[]}},computed:{},created:function(){var e=this;this.scrollBottom(),this.getmy(),this.fetchMessages(),window.Echo.channel("chat-room-channel").listen("PrivateMessageEvent",function(t){e.messages.push({user:t.user,message:t.message.message}),e.$nextTick(function(){e.$refs.hasScrolledToBottom.scrollTo(0,e.$refs.hasScrolledToBottom.scrollHeight)})}),this.getUsers()},mounted:function(){},methods:{getmy:function(){var e=this;r.a.get("/me").then(function(t){e.user=t.data.user})},fetchMessages:function(){var e=this;r.a.get("/room-messages/"+this.roomId).then(function(t){console.log(t.data),e.messages=t.data;for(var s=0;s<e.messages.length;s++){for(var a=!0,r=0;r<e.roomUser.length;r++)e.roomUser[r].user_id===e.messages[s].user_id&&(a=!1);a&&(e.roomUser.push(e.messages[s]),console.log(e.roomUser))}console.log(e.messages)})},addMessage:function(){var e=this,t={user:this.user,room_id:this.roomId,message:this.message};r.a.post("/room-messages",t).then(function(t){e.$nextTick(function(){e.$refs.hasScrolledToBottom.scrollTo(0,e.$refs.hasScrolledToBottom.scrollHeight)})}),this.message=""},getUsers:function(){console.log(this.messages)},scrollBottom:function(){this.messages.length>1&&this.$refs.hasScrolledToBottom.scrollTo(0,this.$refs.hasScrolledToBottom.scrollHeight)}}}),o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"room"},[s("div",{staticStyle:{width:"100%"}},[s("h1",[e._v("Room Users")]),e._v(" "),s("all-user")],1),e._v(" "),s("div",{staticStyle:{width:"60%","padding-top":"30px"}},[s("div",{staticClass:"chat cart"},[s("div",{staticClass:"roomUser"},e._l(e.roomUser,function(t){return s("div",{staticStyle:{display:"flex"}},[s("div",{staticStyle:{"margin-right":"15px"}},[s("router-link",{staticStyle:{"margin-left":"10px","text-decoration":"none"},attrs:{to:{name:"HomeUser",params:{id:e.user.id}}}},[t.user.name!==t.user.name-1?s("p",[e._v(e._s(t.user.name))]):e._e()])],1)])}),0),e._v(" "),s("div",{ref:"hasScrolledToBottom",staticClass:"scrollable cart-body",staticStyle:{"border-radius":"7px 7px 0 0",padding:"5px","background-color":"rgba(199,197,197,0.77)"}},[e._l(e.messages,function(t){return[e.user.id!==t.user.id?s("div",{staticClass:"message message-receive"},[s("p",[s("strong",{staticClass:"primary-font"},[e._v("\n                "+e._s(t.user.name)+" :\n              ")]),e._v("\n              "+e._s(t.message)+"\n            ")]),e._v(" "),s("span",{staticClass:"hide"},[e._v(e._s(t.created_at))])]):s("div",{staticClass:"message message-send"},[s("p",[s("strong",{staticClass:"primary-font"},[e._v("\n                "+e._s(t.user.name)+" :\n              ")]),e._v("\n              "+e._s(t.message)+"\n            ")]),e._v(" "),s("span",{staticClass:"hide"},[e._v(e._s(t.created_at))])])]})],2),e._v(" "),s("div",{staticClass:"chat-form input-group"},[s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"btn-chat"},on:{click:e.addMessage}},[e._v("\n                 +\n              ")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control input-sm message-",attrs:{id:"btn-input",type:"text",name:"message",placeholder:"Type your message here..."},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"btn-chat"},on:{click:e.addMessage}},[e._v("\n                  Send\n              ")])])])])])])},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(e){s("ae0X")},"data-v-a09a212a",null).exports;t.default=[{path:"/room/:id",name:"Room",component:i}]},"9B2D":function(e,t){},"9M+g":function(e,t){},AmHV:function(e,t,s){s("Kkag"),s("Y3mD"),s("ba5V")},"C5+B":function(e,t,s){"use strict";var a=s("//Fk"),r=s.n(a),n=s("mtWM"),o=s.n(n),i={data:function(){return{email:""}},mounted:function(){localStorage.getItem("access_token")&&this.getMy()},created:function(){this.room()},methods:{room:function(){var e=this;this.axios.get("/rooms").then(function(t){e.rooms=t.data}).catch(function(e){return e})},logout:function(){var e=this;o.a.get("/logout").then(function(t){localStorage.removeItem("access_token"),e.$router.push({name:"Home"}),window.location.reload()}).catch(function(e){return e})},getMy:function(){var e=this;return new r.a(function(t,s){o.a.get("/me").then(function(s){e.email=s.data.user.email,t(!0)}).catch(function(e){s(e)})})}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"padding-top":"20px",width:"100%"}},[s("b-navbar",{staticStyle:{position:"fixed","z-index":"1",width:"100%",color:"white"},attrs:{size:"lg",type:"dark",variant:"dark"}},[s("b-navbar-nav",{staticStyle:{width:"100%"}},[s("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},[s("b-nav-item",{attrs:{href:"/"}},[s("h2",[e._v("LIVE CHAT")])]),e._v(" "),s("div",{staticClass:"roomRoute",staticStyle:{display:"flex"}},[s("a",{attrs:{href:"/room/1"}},[e._v("Group 1")]),e._v(" "),s("a",{attrs:{href:"/room/2"}},[e._v("Group 2")]),e._v(" "),s("a",{attrs:{href:"/room/3"}},[e._v("Group 3")])]),e._v(" "),s("div",[s("b-nav-item",[""===e.email?s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("b-nav-item",{attrs:{to:{name:"Register"}}},[e._v(" Sign up ")]),e._v(" "),s("b-nav-item",{attrs:{to:{name:"Login"}}},[e._v(" Sign in ")])],1):e._e(),e._v(" "),""!==e.email?s("div",{staticStyle:{color:"white"},attrs:{right:""}},[s("router-link",{staticStyle:{"margin-right":"15px"},attrs:{to:"/home-page/1"}},[e._v("Messages")]),e._v(" "),s("em",{staticStyle:{color:"white"}},[e._v(e._s(e.email))]),e._v(" "),s("a",{attrs:{href:"/login"},on:{click:function(t){return t.preventDefault(),e.logout()}}},[e._v("\n                Sign out\n              ")])],1):e._e()])],1)],1)])],1)],1)},staticRenderFns:[]};var u=s("VU/8")(i,l,!1,function(e){s("lIYQ")},"data-v-240f8e4a",null);t.a=u.exports},CI8g:function(e,t){},DHQt:function(e,t,s){"use strict";var a=s("mtWM"),r=s.n(a),n={name:"User",props:["user"],data:function(){return{userItem:this.user,count:0}},mounted:function(){this.messageStatus(this.userItem.id)},methods:{messageStatus:function(e){var t=this;r.a.get("/status/user-message/"+e).then(function(e){return t.count=e.data,e}).then(function(e){console.log(error)})},readMessage:function(e){var t=this;r.a.put("/status/message-read",{userID:e}).then(function(e){return t.count=0,e}).catch(function(e){console.log(e)})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user",on:{click:function(t){return e.readMessage(e.userItem.id)}}},[s("b-list-group-item",{staticClass:"d-flex align-items-center"},[s("div",["off"===e.userItem.status?s("div",{staticStyle:{width:"15px",height:"15px","border-radius":"50%","background-color":"darkgrey"}}):s("div",{staticStyle:{width:"15px",height:"15px","border-radius":"50%","background-color":"#36b936"}})]),e._v(" "),s("p",{staticStyle:{"padding-left":"5px"}},[e._v(e._s(e.userItem.name))]),e._v(" "),e.count>0?s("p",{staticStyle:{color:"red","padding-left":"5px"}},[e._v(e._s(e.count))]):e._e()])],1)},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(e){s("4jnR")},"data-v-cadd1192",null);t.a=i.exports},Jmt5:function(e,t){},Kkag:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("mtWM"),n=s.n(r),o=s("aLYK");n.a.defaults.baseURL="https://intense-forest-89445.herokuapp.com/api/",n.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",n.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("access_token"),a.default.use(o.a,n.a)},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r={components:{NavBar:s("C5+B").a},name:"App"},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("nav-bar",{staticClass:"navbar"}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")(r,n,!1,function(e){s("yFKi")},null,null).exports,i=s("Gu7T"),l=s.n(i),u=s("/ocq"),c={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"homepage"})},staticRenderFns:[]};var d=s("VU/8")({name:"Home",data:function(){return{}}},c,!1,function(e){s("cRZd")},"data-v-76f5a291",null).exports,m=s("mtWM"),f=s.n(m),p={name:"SignUp",data:function(){return{form:{name:"",surname:"",email:"",password:"",repeat:"",gender:""},error:"",age:"",birthday:"",mount:"",year:"",day:""}},methods:{formSubmit:function(e){var t=this;""!==this.form.email&&""!==this.form.name&&""!==this.form.surname&&""!==this.form.password&&""!==this.form.gender?this.form.password===this.form.repeat?(this.birthday=new Date(this.form.birthday),this.mount=Date.now()-this.birthday.getTime(),this.age=new Date(this.mount),this.year=this.age.getUTCFullYear(),this.day=Math.abs(this.year-1970),""!==this.form.birthday&&this.day>7?f.a.post("/register",this.form).then(function(e){e&&t.$router.push({name:"Login"})}).catch(function(e){console.log(t.form),t.error=e.response.data.message}):(this.error="Your age does not qualify  for registration 7+",this.form.password="",this.form.repeatPassword="")):(this.error="passwords do not match",this.form.password="",this.form.repeatPassword=""):this.error="fill in all fields"}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reg"},[s("div",{staticClass:"signUp"},[s("h3",{staticStyle:{"text-align":"center"}},[e._v(" Create new account ")]),e._v(" "),s("validation-observer",{ref:"observer"},[s("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.formSubmit.apply(null,arguments)}}},[s("validation",{attrs:{name:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-1",label:"Name:","label-for":"input-1",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"name...",state:!a[0]&&null,trim:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"surname",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-2",label:"Surname:","label-for":"input-2",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-3",type:"text",placeholder:"surname",state:!a[0]&&null,trim:""},model:{value:e.form.surname,callback:function(t){e.$set(e.form,"surname",t)},expression:"form.surname"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-3",label:"Email address:","label-for":"input-1",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-3",type:"email",placeholder:"Enter email",state:!a[0]&&null,trim:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"password",rules:"required|min:6"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-4",label:"Password:","label-for":"input-4",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-4",type:"password",placeholder:"***********",state:!a[0]&&null,trim:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"password",rules:"required|min:6"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-4",label:"Password:","label-for":"input-4",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-4",type:"password",placeholder:"***********",state:!a[0]&&null,trim:""},model:{value:e.form.repeat,callback:function(t){e.$set(e.form,"repeat",t)},expression:"form.repeat"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"birthday",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{id:"input-group-5",label:"Date of birthday:","label-for":"input-5",description:"","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"input-5",type:"date",min:1857,max:1968,state:!a[0]&&null,trim:""},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)}}])},[e._v(" "),s("input",{attrs:{type:"date",id:"start",name:"trip-start",value:"2018-07-22",min:"2018-01-01",max:"2018-12-31"}})]),e._v(" "),s("validation",{attrs:{name:"gender",rules:"required"}},[s("b-form-group",{attrs:{label:"Gender:"}},[s("b-form-radio",{staticStyle:{display:"flex"},attrs:{name:"gender",value:"Male"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v(" Male ")]),e._v(" "),s("b-form-radio",{staticStyle:{display:"flex"},attrs:{name:"gender",value:"Female"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v("Female ")])],1)],1),e._v(" "),s("div",[""!==e.error?s("span",{staticStyle:{color:"red"}},[e._v(e._s(e.error))]):e._e()]),e._v(" "),s("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Sign up")])],1)],1),e._v(" "),s("router-link",{staticStyle:{"margin-top":"15px"},attrs:{to:"/login"}},[e._v("Go to login page")])],1)])},staticRenderFns:[]};var g=s("VU/8")(p,v,!1,function(e){s("zL54")},"data-v-1b5aee94",null).exports,h=s("//Fk"),b=s.n(h),_={name:"Login",data:function(){return{form:{email:"",password:""},token:"",error:""}},methods:{login_user:function(){var e=this;return new b.a(function(t,s){f.a.post("/login",e.form).then(function(s){localStorage.setItem("access_token",s.data.token),t(!0),console.log(s.data.token),e.$router.push({name:"HomeUser"}),window.location.reload()}).catch(function(t){e.error=t.response.data.message,e.form.password=""})})}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("b-container",{staticClass:"px-0 mt-5"},[s("b-row",[s("b-col",{staticClass:"mx-auto signIn",attrs:{cols:"5",md:"8",lg:"7",xl:"5"}},[s("h3",[e._v("\n          Sign in\n        ")]),e._v(" "),s("validation-observer",{ref:"observer"},[s("b-form",{on:{submit:function(t){return t.preventDefault(),e.login_user.apply(null,arguments)}}},[s("validation",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{"label-class":"form-label",label:"Email Address","label-for":"email","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"email",state:!a[0]&&null,trim:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{"label-class":"form-label",label:"Password","label-for":"password","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"password",type:"password",state:!a[0]&&null,trim:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)}}])}),e._v(" "),s("div",{staticClass:"mt-3"},[s("b-button",{attrs:{variant:"primary",block:"",type:"submit"}},[e._v("\n                Sign in\n              ")])],1),e._v(" "),""!==e.error?s("span",{staticStyle:{color:"#e59898"}},[e._v(e._s(e.error))]):e._e()],1)],1),e._v(" "),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"mt-5"},[s("router-link",{attrs:{to:"/forgot-password"}},[e._v("Forgot your password?")])],1),e._v(" "),s("p",{staticClass:"mt-5"},[s("router-link",{attrs:{to:"/register"}},[e._v("Don't have an account?")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var w=s("VU/8")(_,y,!1,function(e){s("O1hl")},"data-v-24d88ede",null).exports,k=s("ag2q"),x=s("ptTm"),S=s("sJyt"),C=s("0ZCf"),$=s("iuzX");window.Pusher=s("jIVf");var M={name:"HomeUser",components:{Rooms:x.a,RoomOne:x.a,Chat:S.a,AllUsers:C.a},data:function(){return{messages:[],message:"",data:{},hasScrolledBottom:0,receiver:this.$route.params.id,name:"",user:{},id:this.$route.params.id}},watch:{receiverId:function(e,t){this.fetchMessages()}},computed:{receiverId:function(){return this.$route.params.id}},created:function(){this.fetchMessages()},mounted:function(){var e=this;this.getMy(),window.Echo.channel("chat-channel").listen("SendMessage",function(t){e.messages.push({user:t.user,message:t.message.message,receiver:e.receiver}),e.$nextTick(function(){e.$refs.hasScrolledToBottom.scrollTo(0,e.$refs.hasScrolledToBottom.scrollHeight)})})},methods:{fetchMessages:function(){var e=this;f.a.get("/messages/"+this.receiverId).then(function(t){e.messages=t.data,e.$refs.hasScrolledToBottom.scrollTo(0,e.$refs.hasScrolledToBottom.scrollHeight)})},addMessage:function(){var e=this;console.log(this.receiverId);var t={receiverId:this.receiverId,user:this.data,message:this.message};f.a.post("/messages",t).then(function(t){e.$nextTick(function(){e.$refs.hasScrolledToBottom.scrollTo(0,e.$refs.hasScrolledToBottom.scrollHeight)}),e.message=""})},getMy:function(){var e=this;return new b.a(function(t,s){f.a.get("/me").then(function(s){e.data=s.data.user,t(!0)}).catch(function(e){s(e)})})}}},U={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"space-between"}},[s("div",{staticStyle:{width:"50%"}},[s("all-users")],1),e._v(" "),s("div",{staticStyle:{width:"30%",padding:"10px","border-radius":"10px"}},[s("div",{staticClass:"d-flex",staticStyle:{"background-color":"#435f7a",padding:"5px","border-radius":"7px 7px 0  0"}},[s("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"2"}})],1),e._v(" "),s("div",{ref:"hasScrolledToBottom",staticClass:"scrollable cart-body chat"},e._l(e.messages,function(t){return s("div",[e.data.id!==t.user.id?s("div",{staticClass:"message message-receive"},[s("p",[s("strong",{staticClass:"primary-font",model:{value:t.user.name,callback:function(s){e.$set(t.user,"name",s)},expression:"message.user.name"}},[e._v("\n              "+e._s(t.user.name)+" :\n            ")]),e._v("\n            "+e._s(t.message)+"\n          ")]),e._v(" "),s("span",{staticClass:"hide"},[e._v(e._s(t.created_at))])]):s("div",{staticClass:"message message-send"},[s("p",[s("strong",{staticClass:"primary-font"},[e._v("\n              "+e._s(t.user.name)+" :\n            ")]),e._v("\n            "+e._s(t.message)+"\n          ")]),e._v(" "),s("span",{staticClass:"hide"},[e._v(e._s(t.created_at))])])])}),0),e._v(" "),s("div",{staticClass:"chat-form input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control input-sm message-",attrs:{id:"btn-input",type:"text",name:"message",placeholder:"Type your message here..."},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"btn-chat"},on:{click:e.addMessage}},[e._v("\n                  Send\n              ")])])])])])])},staticRenderFns:[]};var T=s("VU/8")(M,U,!1,function(e){s("11Jk")},"data-v-7e18ab24",null).exports,B=[{path:"/register",name:"Register",component:g},{path:"/login",name:"Login",component:w},{path:"/forgot-password",name:"ForgotPassword",component:k.a},{path:"/home-page/:id",name:"HomeUser",component:T}],I=s("8h3n");a.default.use(u.a);var R=new u.a({mode:"history",routes:[{path:"/",name:"Home",component:d}].concat(l()(B),l()(I.default))});a.default.config.productionTip=!1,s("AmHV"),s("8h3n"),s("f/ua"),window.Pusher=s("jIVf"),window.Echo=new $.a({broadcaster:"pusher",key:"local",cluster:"mt1",forceTLS:!1,wsHost:window.location.hostname,wsPort:6001}),new a.default({el:"#app",router:R,components:{App:o},template:"<App/>"})},O1hl:function(e,t){},Y3mD:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("Tqaz"),n=s("Jmt5"),o=(s.n(n),s("9M+g"));s.n(o);a.default.use(r.a),a.default.use(r.b)},ae0X:function(e,t){},ag2q:function(e,t,s){"use strict";var a=s("mtWM"),r=s.n(a),n={data:function(){return{user:{email:"",password:"",repeat:""},error:""}},methods:{reset:function(){var e=this;this.user.password===this.user.repeat?r.a.put("/forgot",this.user).then(function(t){t?(e.$router.push({name:"Login"}),console.log(t.data)):console.log("you not have a account")}).catch(function(t){e.error="user does not exist",console.log(t)}):this.error="password does not match"}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"body"},[s("b-container",{staticClass:"px-0 mt-5 forgot"},[s("b-row",[s("b-col",{staticClass:"mx-auto repeat",attrs:{cols:"5",md:"8",lg:"7",xl:"5"}},[s("h3",[e._v(" Type your Email to reset password  ")]),e._v(" "),s("validation-observer",{ref:"observer"},[s("b-form",{on:{submit:function(t){return t.preventDefault(),e.reset.apply(null,arguments)}}},[s("validation",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{"label-class":"form-label",label:"Email Address","label-for":"email","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"email",state:!a[0]&&null,trim:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{"label-class":"form-label",label:"Password","label-for":"password","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"password",type:"password",state:!a[0]&&null,trim:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)}}])}),e._v(" "),s("validation",{attrs:{name:"password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return s("b-form-group",{attrs:{"label-class":"form-label",label:"Password","label-for":"password","invalid-feedback":a[0]}},[s("b-form-input",{attrs:{id:"password",type:"password",state:!a[0]&&null,trim:""},model:{value:e.user.repeat,callback:function(t){e.$set(e.user,"repeat",t)},expression:"user.repeat"}})],1)}}])}),e._v(" "),s("div",{staticClass:"mt-3"},[s("b-button",{attrs:{variant:"primary",block:"",type:"submit"}},[e._v("\n              Sign in\n            ")])],1),e._v(" "),""!==e.error?s("span",{staticStyle:{color:"#e59898"}},[e._v(e._s(e.error))]):e._e()],1)],1),e._v(" "),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"mt-5"},[s("router-link",{attrs:{to:"/login"}},[e._v("Go to login page")])],1),e._v(" "),s("p",{staticClass:"mt-5"},[s("router-link",{attrs:{to:"/register"}},[e._v("Don't have an account?")])],1)])],1)],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(e){s("kbUw")},"data-v-4ff6f1ab",null);t.a=i.exports},ba5V:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),r=s.n(a),n=s("7+uW"),o=s("sUu7"),i=s("wGWZ");s("ag2q");Object(o.c)("required",r()({},i.e,{message:"Filled is required"})),Object(o.c)("email",r()({},i.b,{message:"Enter correct email address"})),Object(o.c)("min",i.d),Object(o.c)("max",i.c),Object(o.c)("alpha_spaces",r()({},i.a,{message:"Use only syllables and spaces"})),n.default.component("validation",o.b),n.default.component("validation-observer",o.a)},cRZd:function(e,t){},"f/ua":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=s("C5+B"),n=s("ptTm"),o=s("sJyt"),i=s("DHQt"),l=s("0ZCf");a.default.component("nav-bar",r.a),a.default.component("RoomOne",n.a),a.default.component("ChatUser",o.a),a.default.component("OneUser",i.a),a.default.component("AllUser",l.a)},"k1/o":function(e,t){},kbUw:function(e,t){},lIYQ:function(e,t){},ptTm:function(e,t,s){"use strict";var a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"room"},e._l(e.rooms,function(t){return s("div",{key:t.id},[s("router-link",{attrs:{to:{name:"Room",params:{id:t.id}}}},[e._v(e._s(t.name))])],1)}),0)},staticRenderFns:[]};var r=s("VU/8")({name:"Rooms",data:function(){return{rooms:[],error:""}},created:function(){this.room()},methods:{room:function(){var e=this;this.axios.get("/rooms").then(function(t){e.rooms=t.data}).catch(function(e){return e})}}},a,!1,function(e){s("k1/o")},"data-v-2f206ada",null);t.a=r.exports},sJyt:function(e,t,s){"use strict";var a=s("Gu7T"),r=s.n(a),n=s("mtWM"),o=s.n(n),i={name:"chat",props:["user"],data:function(){return{messages:[],hasScrolledBottom:"",message:"",user:{},roomId:this.$route.params.id}},created:function(){this.scrollBottom()},mounted:function(){this.getmy(),this.fetchMessages()},methods:{getmy:function(){var e=this;o.a.get("/me").then(function(t){e.user=t.data.user})},fetchMessages:function(){var e=this;o.a.get("/room-messages/"+this.roomId).then(function(t){console.log(t.data),e.messages=t.data})},addMessage:function(){var e,t={room_id:this.roomId,user:this.user,message:this.message};console.log(t),(e=this.messages).push.apply(e,r()(t)),o.a.post("/room-messages",t).then(function(e){console.log(e.data)}),this.message=""},scrollBottom:function(){if(this.messages.length>1){var e=this.hasScrolledBottom.value;e.scrollTop=e.scrollHeight}}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat"},[s("h1",[e._v("Chat")]),e._v(" "),s("div",{ref:"hasScrolledToBottom",staticClass:"scrollable cart-body"},[e._l(e.messages,function(t){return[e.user.id!=t.user.id?s("div",{staticClass:"message message-receive"},[s("p",[s("strong",{staticClass:"primary-font"},[e._v("\n              "+e._s(t.user.name)+" :\n            ")]),e._v("\n            "+e._s(t.message)+"\n          ")])]):s("div",{staticClass:"message message-send"},[s("p",[s("strong",{staticClass:"primary-font"},[e._v("\n              "+e._s(t.user.name)+" :\n            ")]),e._v("\n            "+e._s(t.message)+"\n          ")])])]})],2),e._v(" "),s("div",{staticClass:"chat-form input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control input-sm message-",attrs:{id:"btn-input",type:"text",name:"message",placeholder:"Type your message here..."},domProps:{value:e.message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.message=t.target.value)}}}),e._v(" "),s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-primary",attrs:{id:"btn-chat"},on:{click:e.addMessage}},[e._v("\n                    Send\n                ")])])])])},staticRenderFns:[]};var u=s("VU/8")(i,l,!1,function(e){s("CI8g")},"data-v-c917d71a",null);t.a=u.exports},yFKi:function(e,t){},zL54:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.db7738ad499f40eeff98.js.map